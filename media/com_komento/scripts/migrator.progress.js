Komento.module("migrator.progress",function(a){var b=this;Komento.require().script("admin.language","komento.common").done(function(){Komento.Controller("Migrator.Progress",{defaults:{"{progressBar}":".progressBar","{progressStatus}":".progressStatus","{progressPercentage}":".progressPercentage","{logList}":".logList","{clearLog}":".clearLog","{totalComments}":".totalComments","{totalPosts}":".totalPosts","{migratedComments}":".migratedComments"}},function(a){return{init:function(){},"{clearLog} click":function(){a.logList().html("")},setTotalPosts:function(b){a.totalPosts().text(b)},setTotalComments:function(b){a.totalComments().text(b)},updateMigratedComments:function(b){var c=a.migratedComments().text(),d=parseInt(c)+parseInt(b);a.migratedComments().text(d);var e=parseInt(a.totalComments().eq(0).text()),f=Math.ceil(d/e*100);a.progressBar().animate({width:f+""+"%"}),a.progressPercentage().text(f)},log:function(b){var c=new Date,d=c.getHours()>9?c.getHours():"0"+c.getHours(),e=c.getMinutes()>9?c.getMinutes():"0"+c.getMinutes(),f=c.getSeconds()>9?c.getSeconds():"0"+c.getSeconds(),g="["+d+":"+e+":"+f+"]",h="<li>"+g+" "+b+"</li>",i=a.logList()[0].scrollHeight;a.logList().append(h).scrollTop(i)}}}),b.resolve()})});