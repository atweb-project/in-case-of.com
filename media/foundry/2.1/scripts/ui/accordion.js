(function(){var e=function(e){var t=this,n=e;e.require().script("ui/core","ui/widget").stylesheet("ui/accordion").done(function(){var e=function(){(function(e,t){e.widget("ui.accordion",{version:"1.9pre",options:{active:0,animated:"slide",collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this,n=t.options;t.lastToggle={},t.element.addClass("ui-accordion ui-widget ui-helper-reset"),t.headers=t.element.find(n.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),t._hoverable(t.headers),t._focusable(t.headers),t.headers.find(":first-child").addClass("ui-accordion-heading"),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),!n.collapsible&&n.active===!1&&(n.active=0),n.active<0&&(n.active+=this.headers.length),t.active=t._findActive(n.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.refresh(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",e.proxy(t,"_keydown")).next().attr("role","tabpanel"),t.headers.not(t.active).attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),e.browser.safari||t.headers.find("a").attr("tabIndex",-1),this._setupEvents(n.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-header-active ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex").find("a").removeAttr("tabIndex").end().find(".ui-accordion-heading").removeClass("ui-accordion-heading"),this._destroyIcons();var e=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");this.options.heightStyle!=="content"&&e.css("height","")},_setOption:function(e,t){if(e==="active"){this._activate(t);return}e==="event"&&(this.options.event&&this.headers.unbind(this.options.event+".accordion",this._eventHandler),this._setupEvents(t)),this._super(e,t),e==="collapsible"&&!t&&this.options.active===!1&&this._activate(0),e==="icons"&&(this._destroyIcons(),t&&this._createIcons()),e==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-accordion-disabled ui-state-disabled",!!t)},_keydown:function(t){if(this.options.disabled||t.altKey||t.ctrlKey)return;var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:s=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t)}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())},refresh:function(){var t=this.options,n=this.element.parent(),r,i;return t.heightStyle==="fill"?(e.support.minHeight||(i=n.css("overflow"),n.css("overflow","hidden")),r=n.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");if(n==="absolute"||n==="fixed")return;r-=t.outerHeight(!0)}),i&&n.css("overflow",i),this.headers.each(function(){r-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,r-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):t.heightStyle==="auto"&&(r=0,this.headers.next().each(function(){r=Math.max(r,e(this).height("").height())}).height(r)),this},_activate:function(t){var n=this._findActive(t)[0];if(n===this.active[0])return;n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):e()},_setupEvents:function(t){t&&this.headers.bind(t.split(" ").join(".accordion ")+".accordion",e.proxy(this,"_eventHandler"))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i[0]===r[0],o=s&&n.collapsible,u=o?e():i.next(),a=r.next(),f={oldHeader:r,oldContent:a,newHeader:o?e():i,newContent:u};t.preventDefault();if(n.disabled||s&&!n.collapsible||this._trigger("beforeActivate",t,f)===!1)return;n.active=o?!1:this.headers.index(i),this.active=s?e():i,this._toggle(f),r.removeClass("ui-accordion-header-active ui-state-active ui-corner-top").addClass("ui-corner-all").children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top").children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),i.next().addClass("ui-accordion-content-active"))},_toggle:function(t){function o(){n._completed(t)}var n=this,r=n.options,i=t.newContent,s=t.oldContent;if(r.animated){var u=e.ui.accordion.animations,a=r.animated,f;u[a]||(f={easing:e.easing[a]?a:"slide",duration:700},a="slide"),u[a]({widget:n,toShow:i,toHide:s,prevShow:n.lastToggle.toShow,prevHide:n.lastToggle.toHide,complete:o,down:i.length&&(!s.length||i.index()<s.index())},f)}else s.hide(),i.show(),o();s.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),i.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){var t=e.newContent,n=e.oldContent;this.options.heightStyle==="content"&&t.add(n).css({height:"",overflow:""}),n.removeClass("ui-accordion-content-active"),n.length&&(n.parent()[0].className=n.parent()[0].className),this._trigger("activate",null,e)}}),e.extend(e.ui.accordion,{animations:{slide:function(t,n){if(t.prevShow||t.prevHide)t.prevHide.stop(!0,!0),t.toHide=t.prevShow;var r=t.toShow.css("overflow"),i=t.toHide.css("overflowX"),s=t.toHide.css("overflowY"),o=t.toHide.css("overflow"),u=t.toHide.css("overflowX"),a=t.toHide.css("overflowY"),f=0,l={},c={},h=["height","paddingTop","paddingBottom"],p;t=e.extend({easing:"swing",duration:300},t,n),t.widget.lastToggle=t;if(!t.toHide.size()){p=t.toShow[0].style.width,t.toShow.show().width(t.toShow.width()).hide().animate({height:"show",paddingTop:"show",paddingBottom:"show"},{duration:t.duration,easing:t.easing,complete:function(){t.toShow.width(p),t.complete()}});return}if(!t.toShow.size()){t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);return}var d=t.toShow;p=d[0].style.width,d.width(d.parent().width()-parseFloat(d.css("paddingLeft"))-parseFloat(d.css("paddingRight"))-(parseFloat(d.css("borderLeftWidth"))||0)-(parseFloat(d.css("borderRightWidth"))||0)),e.each(h,function(n,r){c[r]="hide";var i=(""+e.css(t.toShow[0],r)).match(/^([\d+-.]+)(.*)$/),s=r==="height"&&i[1]==="0"?1:i[1];l[r]={value:s,unit:i[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(c,{step:function(e,n){if(n.prop=="height"||n.prop=="paddingTop"||n.prop=="paddingBottom")f=n.end-n.start===0?0:(n.now-n.start)/(n.end-n.start);t.toShow[0].style[n.prop]=f*l[n.prop].value+l[n.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.toShow.css({width:p,overflow:r,overflowX:i,overflowY:s}),t.toHide.css({overflow:o,overflowX:u,overflowY:a}),t.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}}),e.uiBackCompat!==!1&&(function(e,t){e.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var n=t._create;t._create=function(){if(this.options.navigation){var t=this,r=this.element.find(this.options.header),i=r.next(),s=r.add(i).find("a").filter(this.options.navigationFilter)[0];s&&r.add(i).each(function(n){if(e.contains(this,s))return t.options.active=Math.floor(n/2),!1})}n.call(this)}}(n,n.ui.accordion.prototype),function(e,t){e.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var n=t._create,r=t._setOption;e.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),n.call(this)},_setOption:function(e,t){if(e==="autoHeight"||e==="clearStyle"||e==="fillSpace")this.options.heightStyle=this._mergeHeightStyle();r.apply(this,arguments)},_mergeHeightStyle:function(){var e=this.options;if(e.fillSpace)return"fill";if(e.clearStyle)return"content";if(e.autoHeight)return"auto"}})}(n,n.ui.accordion.prototype),function(e,t){e.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var n=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),n.call(this)}}(n,n.ui.accordion.prototype),function(e,t){t.activate=t._activate;var n=t._findActive;t._findActive=function(e){return e===-1&&(e=!1),e&&typeof e!="number"&&(e=this.headers.index(this.headers.filter(e)),e===-1&&(e=!1)),n.call(this,e)}}(n,n.ui.accordion.prototype),n.ui.accordion.prototype.resize=n.ui.accordion.prototype.refresh,function(e,t){e.extend(t.options,{change:null,changestart:null});var n=t._trigger;t._trigger=function(e,t,r){var i=n.apply(this,arguments);return i?(e==="beforeActivate"?i=n.call(this,"changestart",t,r):e==="activate"&&(i=n.call(this,"change",t,r)),i):!1}}(n,n.ui.accordion.prototype))})(n)};e(),t.resolveWith(e)})};dispatch("ui/accordion").containing(e).to("Foundry/2.1 Modules")})();