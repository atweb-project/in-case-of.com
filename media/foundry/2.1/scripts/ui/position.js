(function(){var e=function(e){var t=this,n=e,r=function(){(function(e,t){e.ui=e.ui||{};var r=/left|center|right/,i=/top|center|bottom/,s=/[+-]\d+%?/,o=/^\w+/,u=/%$/,a="center",f=e.fn.position;e.position={scrollbarWidth:function(){var t,n,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=r.children()[0];return e("body").append(r),t=i.offsetWidth,r.css("overflow","scroll"),n=i.offsetWidth,t===n&&(n=r[0].clientWidth),r.remove(),t-n},getScrollInfo:function(t){var n=t[0]!==window,r=n?t.css("overflow-x"):"",i=n?t.css("overflow-y"):"",s=r==="auto"||r==="scroll"?e.position.scrollbarWidth():0,o=i==="auto"||i==="scroll"?e.position.scrollbarWidth():0;return{height:t.height()<t[0].scrollHeight?o:0,width:t.width()<t[0].scrollWidth?s:0}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var n=e(t.of),l=e(t.within||window),c=n[0],h=(t.collision||"flip").split(" "),p={},d,v,m,g;return c.nodeType===9?(v=n.width(),m=n.height(),g={top:0,left:0}):e.isWindow(c)?(v=n.width(),m=n.height(),g={top:n.scrollTop(),left:n.scrollLeft()}):c.preventDefault?(t.at="left top",v=m=0,g={top:t.of.pageY,left:t.of.pageX}):(v=n.outerWidth(),m=n.outerHeight(),g=n.offset()),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,u;e.length===1&&(e=r.test(e[0])?e.concat([a]):i.test(e[0])?[a].concat(e):[a,a]),e[0]=r.test(e[0])?e[0]:a,e[1]=i.test(e[1])?e[1]:a,n=s.exec(e[0]),u=s.exec(e[1]),p[this]=[n?n[0]:0,u?u[0]:0],t[this]=[o.exec(e[0])[0],o.exec(e[1])[0]]}),h.length===1&&(h[1]=h[0]),t.at[0]==="right"?g.left+=v:t.at[0]===a&&(g.left+=v/2),t.at[1]==="bottom"?g.top+=m:t.at[1]===a&&(g.top+=m/2),d=[parseInt(p.at[0],10)*(u.test(p.at[0])?v/100:1),parseInt(p.at[1],10)*(u.test(p.at[1])?m/100:1)],g.left+=d[0],g.top+=d[1],this.each(function(){var n=e(this),r=n.outerWidth(),i=n.outerHeight(),s=parseInt(e.curCSS(this,"marginLeft",!0))||0,o=parseInt(e.curCSS(this,"marginTop",!0))||0,f=e.position.getScrollInfo(l),c=r+s+(parseInt(e.curCSS(this,"marginRight",!0))||0)+f.width,y=i+o+(parseInt(e.curCSS(this,"marginBottom",!0))||0)+f.height,b=e.extend({},g),w=[parseInt(p.my[0],10)*(u.test(p.my[0])?n.outerWidth()/100:1),parseInt(p.my[1],10)*(u.test(p.my[1])?n.outerHeight()/100:1)],E;t.my[0]==="right"?b.left-=r:t.my[0]===a&&(b.left-=r/2),t.my[1]==="bottom"?b.top-=i:t.my[1]===a&&(b.top-=i/2),b.left+=w[0],b.top+=w[1],e.support.offsetFractions||(b.left=Math.round(b.left),b.top=Math.round(b.top)),E={marginLeft:s,marginTop:o},e.each(["left","top"],function(s,o){e.ui.position[h[s]]&&e.ui.position[h[s]][o](b,{targetWidth:v,targetHeight:m,elemWidth:r,elemHeight:i,collisionPosition:E,collisionWidth:c,collisionHeight:y,offset:[d[0]+w[0],d[1]+w[1]],my:t.my,at:t.at,within:l,elem:n})}),e.fn.bgiframe&&n.bgiframe(),n.offset(e.extend(b,{using:t.using}))})},e.ui.position={fit:{left:function(t,n){var r=n.within,i=e(window),s=e.isWindow(n.within[0]),o=s?i.scrollLeft():r.offset().left,u=s?i.width():r.outerWidth(),a=t.left-n.collisionPosition.marginLeft,f=o-a,l=a+n.collisionWidth-u-o,c,h;n.collisionWidth>u?f>0&&l<=0?(c=t.left+f+n.collisionWidth-u-o,t.left+=f-c):l>0&&f<=0?t.left=o:f>l?t.left=o+u-n.collisionWidth:t.left=o:f>0?t.left+=f:l>0?t.left-=l:t.left=Math.max(t.left-a,t.left)},top:function(t,n){var r=n.within,i=e(window),s=e.isWindow(n.within[0]),o=s?i.scrollTop():r.offset().top,u=s?i.height():r.outerHeight(),a=t.top-n.collisionPosition.marginTop,f=o-a,l=a+n.collisionHeight-u-o,c,h;n.collisionHeight>u?f>0&&l<=0?(h=t.top+f+n.collisionHeight-u-o,t.top+=f-h):l>0&&f<=0?t.top=o:f>l?t.top=o+u-n.collisionHeight:t.top=o:f>0?t.top+=f:l>0?t.top-=l:t.top=Math.max(t.top-a,t.top)}},flip:{left:function(t,n){if(n.at[0]===a)return;n.elem.removeClass("ui-flipped-left ui-flipped-right");var r=n.within,i=e(window),s=e.isWindow(n.within[0]),o=(s?0:r.offset().left)+r.scrollLeft(),u=s?r.width():r.outerWidth(),f=t.left-n.collisionPosition.marginLeft,l=f-o,c=f+n.collisionWidth-u-o,h=n.my[0]==="left",p=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,d=n.at[0]==="left"?n.targetWidth:-n.targetWidth,v=-2*n.offset[0],m,g;if(l<0){m=t.left+p+d+v+n.collisionWidth-u-o;if(m<0||m<Math.abs(l))n.elem.addClass("ui-flipped-right"),t.left+=p+d+v}else if(c>0){g=t.left-n.collisionPosition.marginLeft+p+d+v-o;if(g>0||Math.abs(g)<c)n.elem.addClass("ui-flipped-left"),t.left+=p+d+v}},top:function(t,n){if(n.at[1]===a)return;n.elem.removeClass("ui-flipped-top ui-flipped-bottom");var r=n.within,i=e(window),s=e.isWindow(n.within[0]),o=(s?0:r.offset().top)+r.scrollTop(),u=s?r.height():r.outerHeight(),f=t.top-n.collisionPosition.marginTop,l=f-o,c=f+n.collisionHeight-u-o,h=n.my[1]==="top",p=h?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,d=n.at[1]==="top"?n.targetHeight:-n.targetHeight,v=-2*n.offset[1],m,g;l<0?(g=t.top+p+d+v+n.collisionHeight-u-o,t.top+p+d+v>l&&(g<0||g<Math.abs(l))&&(n.elem.addClass("ui-flipped-bottom"),t.top+=p+d+v)):c>0&&(m=t.top-n.collisionPosition.marginTop+p+d+v-o,t.top+p+d+v>c&&(m>0||Math.abs(m)<c)&&(n.elem.addClass("ui-flipped-top"),t.top+=p+d+v))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s;body=document.getElementsByTagName("body")[0],div=document.createElement("div"),t=document.createElement(body?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},body&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(div),n=body||document.documentElement,n.insertBefore(t,n.firstChild),div.style.cssText="position: absolute; left: 10.7432222px;",i=e(div).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var n=e.fn.position;e.fn.position=function(r){if(!r||!r.offset)return n.call(this,r);var i=r.offset.split(" "),s=r.at.split(" ");return i.length===1&&(i[1]=i[0]),/^\d/.test(i[0])&&(i[0]="+"+i[0]),/^\d/.test(i[1])&&(i[1]="+"+i[1]),s.length===1&&(/left|center|right/.test(s[0])?s[1]="center":(s[1]=s[0],s[0]="center")),n.call(this,e.extend(r,{at:s[0]+i[0]+" "+s[1]+i[1],offset:t}))}}(n)})(n)};r(),t.resolveWith(r)};dispatch("ui/position").containing(e).to("Foundry/2.1 Modules")})();