(function(){var moduleFactory=function($){var module=this,exports=function(){var parser=[],defaultOptions={type:"POST",data:{tmpl:"component",format:"ajax",no_html:1},dataType:"json"},methods={initialize:function(e){var t=$.extend(!0,{},defaultOptions,e);return!t.url||t.url==""?$.console.error("$.server: Url is invalid."):(t.success=function(t,n,r){r.success=e.success||function(){},r.fail=e.fail||function(){},$.each(t,function(t,i){var s=parser[i.type],u=e[i.type];$.isFunction(s)?s.apply(this,[i.data,n,r]):$.isFunction(u)&&u.apply(this,i.data)})},$.ajax(t))},parser:function(e,t){$.isFunction(t)&&(parser[e]=t)},removeParser:function(e){delete parser[e]}};parser.script=function(data){if(typeof data[0]=="string"){try{eval(data[0])}catch(err){}return}var chain=window,chainBroken=!1;$.each(data,function(e,t){try{switch(t.type){case"get":chain=chain[t.property];break;case"set":chain[t.property]=t.value,chainBroken=!0;break;case"call":chain=chain[t.method].apply(chain,t.args)}}catch(n){chainBroken=!0}})},parser.success=function(e,t,n){n.success.apply(this,e)},parser.fail=function(e,t,n){n.fail.apply(this,e)},$.server=function(e){if(methods[e])return methods[e].apply(this,Array.prototype.slice.call(arguments,1));if(typeof e=="object"||!e)return methods.initialize.apply(this,arguments);$.error("Method "+e+" does not exist on $.server")}};exports(),module.resolveWith(exports)};dispatch("server").containing(moduleFactory).to("Foundry/2.1 Modules")})();